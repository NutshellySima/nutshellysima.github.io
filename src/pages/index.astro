---
import BaseLayout from '../layouts/BaseLayout.astro';

const navItems = [
  { href: '#about', label: 'Overview', icon: 'user' },
  { href: '#snapshot', label: 'At a glance', icon: 'zap' },
  { href: '#research', label: 'Research', icon: 'flask-conical' },
  { href: '#work', label: 'Work', icon: 'briefcase' },
  { href: '#ekko', label: 'Ekko', icon: 'activity' },
  { href: '#publications', label: 'Publications', icon: 'book-open' },
  { href: '#service', label: 'Service', icon: 'users' },
];

const quickFacts = [
  'Senior Software Development Engineer, Tencent (WeChat), Jul 2020 - Present',
  "OSDI '22 co-first author (Ekko), focused on model freshness at scale",
  'LLVM developer with commit access (Google Summer of Code 2018)',
  'B.Eng. in CS, South China University of Technology (GPA 3.85/4.00, Rank 1/28)',
];

const researchTracks = [
  {
    title: 'Model freshness at scale',
    summary:
      'Diagnose and remove system bottlenecks that become ML failure modes, especially stale updates.',
  },
  {
    title: 'Low-cost training and data pipelines',
    summary:
      'Design safe, locality-aware data/feature systems that reduce movement, cost, and operational complexity.',
  },
  {
    title: 'Efficient model serving',
    summary:
      'Build serving systems where latency SLOs, memory bandwidth, and infrastructure cost remain predictable.',
  },
];

const selectedWork = [
  {
    title: 'Ekko (WeChat recommendation)',
    subtitle: 'Low-latency model updates for multi-terabyte DLRMs',
    points: [
      'Compressed dissemination + model-aware scheduling (WAN bandwidth -92%)',
      'SLO-aware placement and shard management (machine cost -49%)',
      'Second-level freshness in production (2.4s update latency)',
    ],
    tags: ["OSDI '22", 'co-first author'],
  },
  {
    title: 'Data and feature platform',
    subtitle: 'Safe and scalable training-data pipelines',
    points: [
      'WebAssembly runtime for in-process isolation and resource control',
      'Locality-aware operator placement near data sources',
      'Up to 1,200x less data movement on representative workloads',
    ],
    tags: ['WASM', 'data systems'],
  },
  {
    title: 'LLVM contributions',
    subtitle: 'Compiler infrastructure improvements',
    points: [
      'Improved Semi-NCA and optimization pipeline (LLVM 9.0)',
      'Unified dominator-tree update APIs (LLVM 7.0)',
      'Reported speedups up to 1980x on real-world samples',
    ],
    tags: ['C++', 'compilers'],
  },
];

const ekkoOutcomes = ['2.4s model-update latency', '10,000x model-size scaling', 'WAN -92%', 'machine cost -49%', '1B+ daily users'];

const timeline = [
  {
    period: 'Jul 2020 - Present',
    title: 'Tencent (WeChat) - Senior Software Development Engineer',
    bullets: [
      "Led the Ekko line of work; part published at OSDI '22.",
      'Built safe data/feature infrastructure with in-process isolation.',
      'Developing cost-effective LLM serving mechanisms.',
    ],
  },
  {
    period: '2018 - Present',
    title: 'LLVM - Developer (commit access)',
    bullets: ['Contributed optimization and API improvements across LLVM releases.', 'Google Summer of Code 2018 participant.'],
  },
  {
    period: 'Sep 2016 - Jun 2020',
    title: 'South China University of Technology - B.Eng. Computer Science',
    bullets: ['Innovation Class, GPA 3.85/4.00, Rank 1/28.'],
  },
];

const externalLinks = [
  { label: "OSDI '22 paper", href: 'https://www.usenix.org/conference/osdi22/presentation/sima' },
  { label: 'WeChat engineering write-up', href: 'https://mp.weixin.qq.com/s/gBD3mdoRRlGI8bmXp2OBMA' },
  { label: 'Tencent engineering write-up', href: 'https://mp.weixin.qq.com/s/hS5ZebOC7oQz_Itud0A_Rg' },
  { label: 'Google Scholar', href: 'https://scholar.google.com/citations?user=8-HD_IEAAAAJ&hl=en' },
];
---
<BaseLayout>
  <a href="#main" class="skip-link">Skip to main content</a>

  <div
    id="scroll-progress"
    class="fixed top-0 left-0 right-0 h-1 z-[60] no-print"
    role="progressbar"
    aria-label="Page scroll progress"
    aria-valuemin="0"
    aria-valuemax="100"
    aria-valuenow="0"
  ></div>

  <nav id="navbar" class="fixed top-0 left-0 right-0 z-50 no-print transition-transform duration-300" aria-label="Primary navigation">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div id="nav-container" class="glass rounded-2xl mt-4 px-4 sm:px-6 py-3 transition-all duration-300 relative">
        <div class="flex items-center justify-between gap-4">
          <a href="#top" class="flex items-center gap-3 group" aria-label="Chijun Sima - Home">
            <div class="relative w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 via-secondary-500 to-accent-500 flex items-center justify-center text-white font-bold text-sm shadow-lg overflow-hidden shimmer">
              CS
            </div>
            <div class="hidden sm:block">
              <span class="font-display font-semibold text-base block leading-tight">Chijun Sima</span>
              <span class="text-xs text-neutral-500 dark:text-neutral-400">Efficient ML systems</span>
            </div>
          </a>

          <div class="hidden lg:flex items-center gap-1">
            {
              navItems.map((item) => (
                <a
                  href={item.href}
                  class="nav-link px-3 py-2 rounded-xl text-sm font-medium text-neutral-600 dark:text-neutral-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-all duration-200"
                >
                  {item.label}
                </a>
              ))
            }
          </div>

          <div class="flex items-center gap-2">
            <button
              id="theme-toggle"
              class="relative p-2.5 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-all duration-200 focus-ring overflow-hidden group"
              aria-label="Toggle dark mode"
              aria-pressed="false"
            >
              <i data-lucide="sun" class="w-5 h-5 absolute inset-0 m-auto transition-all duration-300 rotate-0 scale-100 dark:-rotate-90 dark:scale-0 text-primary-500"></i>
              <i data-lucide="moon" class="w-5 h-5 absolute inset-0 m-auto transition-all duration-300 rotate-90 scale-0 dark:rotate-0 dark:scale-100 text-secondary-400"></i>
              <span class="w-5 h-5 block opacity-0" aria-hidden="true">.</span>
            </button>

            <button
              id="share-button"
              class="relative p-2.5 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-all duration-200 focus-ring"
              aria-label="Share this page"
              type="button"
            >
              <i data-lucide="share-2" class="w-5 h-5 text-neutral-600 dark:text-neutral-300"></i>
            </button>

            <button
              id="mobile-menu-btn"
              class="lg:hidden p-2.5 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors focus-ring"
              aria-label="Toggle menu"
              aria-controls="mobile-menu"
              aria-expanded="false"
            >
              <i data-lucide="menu" class="w-5 h-5 menu-icon"></i>
              <i data-lucide="x" class="w-5 h-5 close-icon hidden"></i>
            </button>
          </div>
        </div>

        <div id="mobile-menu" class="hidden lg:hidden absolute left-0 right-0 top-full mt-3 rounded-2xl glass shadow-2xl p-4" hidden>
          <div class="grid sm:grid-cols-2 gap-2">
            {
              navItems.map((item) => (
                <a href={item.href} class="mobile-nav-link px-4 py-3 rounded-xl text-sm font-medium text-neutral-600 dark:text-neutral-300 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-all flex items-center gap-2">
                  <i data-lucide={item.icon} class="w-4 h-4 text-primary-500"></i>
                  {item.label}
                </a>
              ))
            }
          </div>
        </div>
      </div>
    </div>
  </nav>

  <main id="main" tabindex="-1">
    <section id="about" class="relative pt-32 pb-16 lg:pt-40 lg:pb-20 gradient-bg mesh-gradient noise overflow-hidden" aria-labelledby="hero-heading">
      <div class="relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 z-10">
        <div class="reveal">
          <div class="grid lg:grid-cols-[1fr_auto] gap-8 lg:gap-12 items-start">
            <div>
              <p class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/75 dark:bg-neutral-900/65 border border-neutral-200/70 dark:border-neutral-700/70 text-sm text-neutral-600 dark:text-neutral-400 mb-5">
                <span class="w-2 h-2 rounded-full bg-secondary-500 animate-pulse" aria-hidden="true"></span>
                Open to research collaboration
              </p>

              <h1 id="hero-heading" class="text-4xl sm:text-5xl lg:text-6xl font-display font-bold leading-tight mb-3 text-balance">
                Chijun Sima
              </h1>
              <p class="text-xl sm:text-2xl text-neutral-700 dark:text-neutral-300 font-light mb-5 max-w-3xl text-balance">
                I build <span class="font-semibold gradient-text">efficient ML systems</span> that keep large models fresh, fast, and economically deployable.
              </p>
              <p class="text-base sm:text-lg text-neutral-600 dark:text-neutral-400 leading-relaxed max-w-3xl mb-7">
                This page is organized for two reading modes: a short academic skim first, then optional technical depth if you want details.
              </p>

              <div class="flex flex-wrap gap-3 mb-7">
                <a href="#snapshot" class="magnetic-btn inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-gradient-to-r from-primary-600 via-secondary-600 to-accent-600 text-white font-medium shadow-lg shadow-primary-500/25 hover:shadow-xl hover:shadow-primary-500/40 transition-all focus-ring">
                  <i data-lucide="zap" class="w-5 h-5"></i>
                  Start with the 60-second summary
                </a>
                <a href="/cv.pdf" data-prefetch class="magnetic-btn inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-white dark:bg-neutral-900/70 text-neutral-800 dark:text-neutral-200 font-medium shadow-lg hover:shadow-xl transition-all border border-neutral-200/70 dark:border-neutral-700/60 focus-ring">
                  <i data-lucide="file-text" class="w-5 h-5"></i>
                  CV (PDF)
                </a>
                <a href="#deep-dive" class="magnetic-btn inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-white dark:bg-neutral-900/70 text-neutral-800 dark:text-neutral-200 font-medium shadow-lg hover:shadow-xl transition-all border border-neutral-200/70 dark:border-neutral-700/60 focus-ring">
                  <i data-lucide="book-open" class="w-5 h-5"></i>
                  Deep dive timeline
                </a>
              </div>

              <div class="flex flex-wrap items-center gap-3 text-sm">
                <a href="mailto:simachijun@gmail.com" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/70 dark:bg-neutral-900/60 border border-neutral-200/60 dark:border-neutral-700/60 hover:bg-white dark:hover:bg-neutral-900 transition-all focus-ring">
                  <i data-lucide="mail" class="w-4 h-4 text-primary-600"></i>
                  Email
                </a>
                <a href="https://www.linkedin.com/in/chijun-sima/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/70 dark:bg-neutral-900/60 border border-neutral-200/60 dark:border-neutral-700/60 hover:bg-white dark:hover:bg-neutral-900 transition-all focus-ring">
                  <i data-lucide="linkedin" class="w-4 h-4 text-[#0077b5]"></i>
                  LinkedIn
                </a>
                <a href="https://github.com/NutshellySima" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/70 dark:bg-neutral-900/60 border border-neutral-200/60 dark:border-neutral-700/60 hover:bg-white dark:hover:bg-neutral-900 transition-all focus-ring">
                  <i data-lucide="github" class="w-4 h-4"></i>
                  GitHub
                </a>
                <a href="https://scholar.google.com/citations?user=8-HD_IEAAAAJ&hl=en" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/70 dark:bg-neutral-900/60 border border-neutral-200/60 dark:border-neutral-700/60 hover:bg-white dark:hover:bg-neutral-900 transition-all focus-ring">
                  <i data-lucide="graduation-cap" class="w-4 h-4 text-[#4285f4]"></i>
                  Scholar
                </a>
              </div>
            </div>

            <div class="reveal-scale">
              <img
                src="/avatar.jpg"
                data-asset-src="/avatar.jpg"
                alt="Chijun Sima"
                width="208"
                height="208"
                decoding="async"
                fetchpriority="high"
                class="w-40 h-40 sm:w-48 sm:h-48 lg:w-52 lg:h-52 object-cover rounded-3xl shadow-2xl ring-4 ring-white dark:ring-neutral-800"
                loading="eager"
              />
              <p class="mt-4 inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-white/70 dark:bg-neutral-900/60 border border-neutral-200/60 dark:border-neutral-700/60 text-sm glass">
                <i data-lucide="map-pin" class="w-4 h-4 text-primary-600"></i>
                Guangzhou, China
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="snapshot" class="cv-auto py-20 lg:py-24 bg-white dark:bg-neutral-900 relative overflow-hidden" aria-labelledby="snapshot-heading">
      <div class="absolute inset-0 grid-pattern" aria-hidden="true"></div>
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative">
        <div class="reveal">
          <div class="text-center mb-12">
            <span class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 text-sm font-medium mb-4">
              <i data-lucide="zap" class="w-4 h-4"></i>
              60-second summary
            </span>
            <h2 id="snapshot-heading" class="text-3xl sm:text-4xl font-display font-bold mb-4 text-balance">Start here if you are skimming</h2>
            <p class="text-lg text-neutral-600 dark:text-neutral-400 max-w-3xl mx-auto">
              Core facts from my CV, optimized for fast reading by researchers and hiring committees.
            </p>
          </div>

          <div class="grid lg:grid-cols-3 gap-6 stagger">
            <article class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-7 border border-neutral-100 dark:border-neutral-700 shadow-lg lg:col-span-2">
              <h3 class="text-xl font-display font-semibold mb-5">Academic quick facts</h3>
              <ul class="space-y-3 text-neutral-700 dark:text-neutral-300 leading-relaxed">
                {
                  quickFacts.map((fact) => (
                    <li class="flex items-start gap-3">
                      <i data-lucide="check-circle-2" class="w-5 h-5 text-secondary-500 mt-0.5 flex-shrink-0"></i>
                      <span>{fact}</span>
                    </li>
                  ))
                }
              </ul>
            </article>

            <article class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-7 border border-neutral-100 dark:border-neutral-700 shadow-lg">
              <h3 class="text-xl font-display font-semibold mb-5">Choose depth</h3>
              <div class="space-y-4 text-sm">
                <a href="#research" class="block p-4 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-primary-400 dark:hover:border-primary-500 transition-colors">
                  <p class="font-semibold text-neutral-800 dark:text-neutral-200">Fast path (2 minutes)</p>
                  <p class="text-neutral-600 dark:text-neutral-400 mt-1">Research focus &rarr; selected work &rarr; top publications.</p>
                </a>
                <a href="#ekko" class="block p-4 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-primary-400 dark:hover:border-primary-500 transition-colors">
                  <p class="font-semibold text-neutral-800 dark:text-neutral-200">Technical path (5-8 minutes)</p>
                  <p class="text-neutral-600 dark:text-neutral-400 mt-1">Web-native Ekko explainer with design and outcomes.</p>
                </a>
                <a href="#deep-dive" class="block p-4 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-primary-400 dark:hover:border-primary-500 transition-colors">
                  <p class="font-semibold text-neutral-800 dark:text-neutral-200">Full CV path</p>
                  <p class="text-neutral-600 dark:text-neutral-400 mt-1">Timeline details, awards, talks, and external links.</p>
                </a>
              </div>
            </article>
          </div>
        </div>
      </div>
    </section>

    <section id="research" class="cv-auto py-20 lg:py-24 bg-neutral-50 dark:bg-neutral-800/30 relative overflow-hidden" aria-labelledby="research-heading">
      <div class="absolute inset-0 dot-pattern" aria-hidden="true"></div>
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative">
        <div class="reveal">
          <div class="text-center mb-12">
            <span class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-secondary-100 dark:bg-secondary-900/30 text-secondary-700 dark:text-secondary-300 text-sm font-medium mb-4">
              <i data-lucide="flask-conical" class="w-4 h-4"></i>
              Research
            </span>
            <h2 id="research-heading" class="text-3xl sm:text-4xl font-display font-bold mb-4 text-balance">Research focus</h2>
            <p class="text-lg text-neutral-600 dark:text-neutral-400 max-w-3xl mx-auto">
              System-algorithm co-design for production ML systems that are accurate, responsive, and cost-effective.
            </p>
          </div>

          <div class="grid lg:grid-cols-3 gap-6 stagger">
            {
              researchTracks.map((track) => (
                <article class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-7 shadow-lg border border-neutral-100 dark:border-neutral-700">
                  <h3 class="text-xl font-display font-semibold mb-3">{track.title}</h3>
                  <p class="text-neutral-600 dark:text-neutral-400 leading-relaxed">{track.summary}</p>
                </article>
              ))
            }
          </div>
        </div>
      </div>
    </section>

    <section id="work" class="cv-auto py-20 lg:py-24 bg-white dark:bg-neutral-900 relative overflow-hidden" aria-labelledby="work-heading">
      <div class="absolute inset-0 grid-pattern" aria-hidden="true"></div>
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative">
        <div class="reveal">
          <div class="text-center mb-12">
            <span class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 text-sm font-medium mb-4">
              <i data-lucide="briefcase" class="w-4 h-4"></i>
              Selected work
            </span>
            <h2 id="work-heading" class="text-3xl sm:text-4xl font-display font-bold mb-4 text-balance">High-signal projects</h2>
            <p class="text-lg text-neutral-600 dark:text-neutral-400 max-w-3xl mx-auto">
              Condensed highlights for quick evaluation. Deeper technical context is in the Ekko section below.
            </p>
          </div>

          <div class="grid lg:grid-cols-3 gap-6 stagger">
            {
              selectedWork.map((item) => (
                <article class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-7 shadow-lg border border-neutral-100 dark:border-neutral-700">
                  <h3 class="text-xl font-display font-semibold mb-1">{item.title}</h3>
                  <p class="text-sm text-neutral-500 dark:text-neutral-400 mb-4">{item.subtitle}</p>
                  <ul class="space-y-2.5 text-neutral-600 dark:text-neutral-400 leading-relaxed mb-5">
                    {item.points.map((point) => (
                      <li class="flex items-start gap-2.5">
                        <i data-lucide="check-circle-2" class="w-5 h-5 text-secondary-500 mt-1 flex-shrink-0"></i>
                        <span>{point}</span>
                      </li>
                    ))}
                  </ul>
                  <div class="flex flex-wrap gap-2">
                    {item.tags.map((tag) => (
                      <span class="px-2.5 py-1 rounded-lg bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 text-xs font-medium">{tag}</span>
                    ))}
                  </div>
                </article>
              ))
            }
          </div>
        </div>
      </div>
    </section>

    <section id="ekko" class="cv-auto py-24 lg:py-28 bg-neutral-50 dark:bg-neutral-800/30 relative overflow-hidden" aria-labelledby="ekko-heading">
      <div class="absolute inset-0 mesh-gradient opacity-70" aria-hidden="true"></div>
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative">
        <div class="reveal">
          <div class="text-center mb-12">
            <span class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-accent-100 dark:bg-accent-900/30 text-accent-700 dark:text-accent-300 text-sm font-medium mb-4">
              <i data-lucide="activity" class="w-4 h-4"></i>
              Ekko
            </span>
            <h2 id="ekko-heading" class="text-3xl sm:text-4xl lg:text-5xl font-display font-bold mb-4 text-balance">Ekko, web-native explainer</h2>
            <p class="text-lg text-neutral-600 dark:text-neutral-400 max-w-4xl mx-auto">
              Instead of slide-style content, this section gives a readable system narrative: problem, design, and impact.
            </p>
          </div>

          <article class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-8 shadow-xl border border-neutral-100 dark:border-neutral-700 mb-6">
            <h3 class="text-xl font-display font-semibold mb-4">Problem and framing</h3>
            <p class="text-neutral-600 dark:text-neutral-400 leading-relaxed mb-3">
              At WeChat scale, larger DLRMs improved offline metrics but could hurt online engagement when update pipelines could not keep up.
            </p>
            <p class="text-neutral-600 dark:text-neutral-400 leading-relaxed">
              Ekko asks: <span class="font-semibold text-neutral-800 dark:text-neutral-200">How can model updates stay near real-time as model size grows from GB to tens of TB?</span>
            </p>
          </article>

          <article class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-8 shadow-xl border border-neutral-100 dark:border-neutral-700 mb-6">
            <h3 class="text-xl font-display font-semibold mb-5">Architecture storyboard</h3>
            <div class="grid md:grid-cols-2 xl:grid-cols-4 gap-4">
              <div class="rounded-2xl border border-neutral-200 dark:border-neutral-700 p-4">
                <p class="text-xs uppercase tracking-wide text-neutral-500 dark:text-neutral-400 mb-2">Step 1</p>
                <p class="font-medium mb-1">Detect freshness risk</p>
                <p class="text-sm text-neutral-600 dark:text-neutral-400">Track model-update lag as a first-class production metric.</p>
              </div>
              <div class="rounded-2xl border border-neutral-200 dark:border-neutral-700 p-4">
                <p class="text-xs uppercase tracking-wide text-neutral-500 dark:text-neutral-400 mb-2">Step 2</p>
                <p class="font-medium mb-1">Compress and prioritize updates</p>
                <p class="text-sm text-neutral-600 dark:text-neutral-400">Use model and gradient signals to schedule what to synchronize first.</p>
              </div>
              <div class="rounded-2xl border border-neutral-200 dark:border-neutral-700 p-4">
                <p class="text-xs uppercase tracking-wide text-neutral-500 dark:text-neutral-400 mb-2">Step 3</p>
                <p class="font-medium mb-1">Place shards with SLO awareness</p>
                <p class="text-sm text-neutral-600 dark:text-neutral-400">Optimize placement to avoid overloading inference while reducing cost.</p>
              </div>
              <div class="rounded-2xl border border-neutral-200 dark:border-neutral-700 p-4">
                <p class="text-xs uppercase tracking-wide text-neutral-500 dark:text-neutral-400 mb-2">Step 4</p>
                <p class="font-medium mb-1">Roll out safely</p>
                <p class="text-sm text-neutral-600 dark:text-neutral-400">Model-state manager enables fast rollback for harmful updates.</p>
              </div>
            </div>
          </article>

          <article class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-8 shadow-xl border border-neutral-100 dark:border-neutral-700 mb-6">
            <h3 class="text-xl font-display font-semibold mb-4">Selected outcomes</h3>
            <div class="flex flex-wrap gap-2.5">
              {ekkoOutcomes.map((result) => <span class="px-4 py-2 rounded-full bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200 font-medium text-sm">{result}</span>)}
            </div>
          </article>

          <details class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-6 shadow-xl border border-neutral-100 dark:border-neutral-700 group">
            <summary class="cursor-pointer list-none flex items-center justify-between gap-4">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center">
                  <i data-lucide="chevrons-down-up" class="w-5 h-5 text-white"></i>
                </div>
                <span class="font-display font-semibold text-lg">Technical deep dive and evidence links</span>
              </div>
              <div class="w-9 h-9 rounded-xl bg-neutral-100 dark:bg-neutral-700 flex items-center justify-center">
                <i data-lucide="chevron-down" class="w-5 h-5 text-neutral-500 group-open:rotate-180 transition-transform"></i>
              </div>
            </summary>
            <div class="mt-6 text-neutral-600 dark:text-neutral-400 leading-relaxed space-y-3">
              <p>
                Technical contributions from the CV include: compressed dissemination and accuracy-aware scheduling, optimization-based shard placement, and safe model-state rollback.
              </p>
              <p>
                The work was published at OSDI 2022 (co-first author), with subsequent production iterations deployed in large-scale WeChat recommendation stacks.
              </p>
              <div class="flex flex-wrap gap-3 pt-2">
                {externalLinks.map((link) => (
                  <a
                    href={link.href}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center gap-1.5 text-primary-600 dark:text-primary-400 hover:underline font-medium text-sm"
                  >
                    {link.label}
                    <i data-lucide="external-link" class="w-4 h-4"></i>
                  </a>
                ))}
              </div>
            </div>
          </details>
        </div>
      </div>
    </section>

    <section id="publications" class="cv-auto py-24 lg:py-28 bg-white dark:bg-neutral-900 relative overflow-hidden" aria-labelledby="publications-heading">
      <div class="absolute inset-0 grid-pattern" aria-hidden="true"></div>
      <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 relative">
        <div class="reveal">
          <div class="text-center mb-12">
            <span class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-accent-100 dark:bg-accent-900/30 text-accent-700 dark:text-accent-300 text-sm font-medium mb-4">
              <i data-lucide="book-open" class="w-4 h-4"></i>
              Publications
            </span>
            <h2 id="publications-heading" class="text-3xl sm:text-4xl font-display font-bold mb-4 text-balance">Selected publications</h2>
          </div>

          <div class="space-y-5 stagger">
            <article class="card-glow bg-gradient-to-r from-primary-50 via-secondary-50 to-accent-50 dark:from-primary-900/10 dark:via-secondary-900/10 dark:to-accent-900/10 rounded-3xl p-7 border border-primary-100/50 dark:border-primary-800/30">
              <div class="flex flex-wrap items-start gap-3 mb-4">
                <span class="px-3 py-1.5 rounded-xl bg-gradient-to-r from-primary-500 to-secondary-500 text-white text-sm font-semibold">OSDI 2022</span>
                <span class="px-3 py-1.5 rounded-xl bg-accent-100 dark:bg-accent-900/30 text-accent-700 dark:text-accent-300 text-sm font-medium">Co-first author</span>
              </div>
              <h3 class="text-xl font-display font-semibold mb-2">
                <a href="https://www.usenix.org/conference/osdi22/presentation/sima" target="_blank" rel="noopener noreferrer" class="hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                  Ekko: A Large-Scale Deep Learning Recommender System with Low-Latency Model Update
                </a>
              </h3>
              <p class="text-neutral-600 dark:text-neutral-400">
                Chijun Sima*, Yao Fu*, Man-Kit Sit, Liyi Guo, Xuri Gong, Feng Lin, Junyu Wu, Yongsheng Li, Haidong Rong, Pierre-Louis Aublin, Luo Mai.
              </p>
            </article>

            <article class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-7 border border-neutral-100 dark:border-neutral-700">
              <div class="flex flex-wrap items-start gap-3 mb-4">
                <span class="px-3 py-1.5 rounded-xl bg-secondary-100 dark:bg-secondary-900/30 text-secondary-700 dark:text-secondary-300 text-sm font-medium">IEEE Access, 2019</span>
              </div>
              <h3 class="text-xl font-display font-semibold mb-2">
                Dynamic Barycenter Averaging Kernel in RBF Networks for Time Series Classification
              </h3>
              <p class="text-neutral-600 dark:text-neutral-400">
                Kejian Shi, Hongyang Qin, Chijun Sima, Sen Li, Lifeng Shen, Qianli Ma.
              </p>
            </article>
          </div>
        </div>
      </div>
    </section>

    <section id="service" class="cv-auto py-20 lg:py-24 bg-neutral-50 dark:bg-neutral-800/30 relative overflow-hidden" aria-labelledby="service-heading">
      <div class="absolute inset-0 dot-pattern opacity-50" aria-hidden="true"></div>
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative">
        <div class="reveal">
          <div class="text-center mb-12">
            <span class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 text-sm font-medium mb-4">
              <i data-lucide="users" class="w-4 h-4"></i>
              Service and recognition
            </span>
            <h2 id="service-heading" class="text-3xl sm:text-4xl font-display font-bold mb-4 text-balance">Service, talks, and awards</h2>
          </div>

          <div class="grid lg:grid-cols-3 gap-6 stagger mb-8">
            <article class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-7 shadow-lg border border-neutral-100 dark:border-neutral-700">
              <h3 class="text-xl font-display font-semibold mb-4">Academic service</h3>
              <ul class="space-y-2 text-neutral-600 dark:text-neutral-400">
                <li>CVPR 2025 reviewer</li>
                <li>ICLR 2025 Workshop (FM-Wild) reviewer</li>
                <li>NeurIPS 2025 Workshop (Efficient Reasoning) reviewer</li>
              </ul>
            </article>

            <article class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-7 shadow-lg border border-neutral-100 dark:border-neutral-700">
              <h3 class="text-xl font-display font-semibold mb-4">Talks</h3>
              <ul class="space-y-2 text-neutral-600 dark:text-neutral-400">
                <li>Tencent WeChat AI Department (Shenzhen, Jun 2022)</li>
                <li>DataFun (Virtual, Aug 2022)</li>
                <li>TechBeat (Virtual, Sep 2022)</li>
              </ul>
            </article>

            <article class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-7 shadow-lg border border-neutral-100 dark:border-neutral-700">
              <h3 class="text-xl font-display font-semibold mb-4">Selected awards</h3>
              <ul class="space-y-2 text-neutral-600 dark:text-neutral-400">
                <li>Tencent Technology Breakthrough Award (Gold), 2022H2</li>
                <li>ACM-ICPC Asia Xi'an Regional Bronze, 2017</li>
                <li>CCPC Guangdong Division Second Prize (out of 177 teams)</li>
              </ul>
            </article>
          </div>
        </div>
      </div>
    </section>

    <section id="deep-dive" class="cv-auto py-20 lg:py-24 bg-white dark:bg-neutral-900 relative overflow-hidden" aria-labelledby="deep-dive-heading">
      <div class="absolute inset-0 grid-pattern" aria-hidden="true"></div>
      <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 relative">
        <div class="reveal">
          <details class="card-glow bg-white dark:bg-neutral-800 rounded-3xl p-6 sm:p-8 shadow-xl border border-neutral-100 dark:border-neutral-700 group">
            <summary class="cursor-pointer list-none flex items-center justify-between gap-4">
              <div>
                <p class="text-sm font-medium text-primary-600 dark:text-primary-400 mb-1">Optional deep read</p>
                <h2 id="deep-dive-heading" class="text-2xl sm:text-3xl font-display font-bold">CV-style timeline and context</h2>
              </div>
              <div class="w-10 h-10 rounded-xl bg-neutral-100 dark:bg-neutral-700 flex items-center justify-center">
                <i data-lucide="chevron-down" class="w-5 h-5 text-neutral-500 group-open:rotate-180 transition-transform"></i>
              </div>
            </summary>

            <div class="mt-8 space-y-8">
              {
                timeline.map((entry) => (
                  <article class="border-l-2 border-primary-200 dark:border-primary-800 pl-5">
                    <p class="text-sm text-neutral-500 dark:text-neutral-400">{entry.period}</p>
                    <h3 class="text-lg font-display font-semibold mt-1 mb-2">{entry.title}</h3>
                    <ul class="space-y-1.5 text-neutral-600 dark:text-neutral-400">
                      {entry.bullets.map((bullet) => (
                        <li class="flex items-start gap-2.5">
                          <i data-lucide="minus" class="w-4 h-4 mt-1 text-neutral-400 flex-shrink-0"></i>
                          <span>{bullet}</span>
                        </li>
                      ))}
                    </ul>
                  </article>
                ))
              }
            </div>
          </details>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-neutral-900 text-white py-14 lg:py-16 no-print relative overflow-hidden" role="contentinfo">
    <div class="absolute inset-0 mesh-gradient opacity-30" aria-hidden="true"></div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
      <div class="grid md:grid-cols-3 gap-10 mb-10">
        <div>
          <div class="flex items-center gap-3 mb-4">
            <div class="w-11 h-11 rounded-xl bg-gradient-to-br from-primary-500 via-secondary-500 to-accent-500 flex items-center justify-center text-white font-bold">
              CS
            </div>
            <div>
              <p class="font-display font-semibold">Chijun Sima</p>
              <p class="text-neutral-400 text-sm">Efficient ML systems</p>
            </div>
          </div>
          <p class="text-neutral-400 text-sm leading-relaxed max-w-sm">
            Built for quick academic scanning first, with optional deep technical context.
          </p>
        </div>

        <nav aria-label="Footer navigation">
          <h4 class="font-display font-semibold mb-4 text-lg">Quick links</h4>
          <div class="flex flex-wrap gap-2">
            <a href="#snapshot" class="px-4 py-2 rounded-xl bg-neutral-800 hover:bg-neutral-700 text-sm transition-all">At a glance</a>
            <a href="#research" class="px-4 py-2 rounded-xl bg-neutral-800 hover:bg-neutral-700 text-sm transition-all">Research</a>
            <a href="#work" class="px-4 py-2 rounded-xl bg-neutral-800 hover:bg-neutral-700 text-sm transition-all">Work</a>
            <a href="#ekko" class="px-4 py-2 rounded-xl bg-neutral-800 hover:bg-neutral-700 text-sm transition-all">Ekko</a>
            <a href="#deep-dive" class="px-4 py-2 rounded-xl bg-neutral-800 hover:bg-neutral-700 text-sm transition-all">Deep dive</a>
          </div>
        </nav>

        <div>
          <h4 class="font-display font-semibold mb-4 text-lg">Connect</h4>
          <div class="flex gap-3">
            <a href="mailto:simachijun@gmail.com" class="group p-3 rounded-xl bg-neutral-800 hover:bg-gradient-to-br hover:from-primary-600 hover:to-secondary-600 transition-all" aria-label="Email">
              <i data-lucide="mail" class="w-5 h-5"></i>
            </a>
            <a href="https://www.linkedin.com/in/chijun-sima/" target="_blank" rel="noopener noreferrer" class="group p-3 rounded-xl bg-neutral-800 hover:bg-[#0077b5] transition-all" aria-label="LinkedIn">
              <i data-lucide="linkedin" class="w-5 h-5"></i>
            </a>
            <a href="https://github.com/NutshellySima" target="_blank" rel="noopener noreferrer" class="group p-3 rounded-xl bg-neutral-800 hover:bg-neutral-700 transition-all" aria-label="GitHub">
              <i data-lucide="github" class="w-5 h-5"></i>
            </a>
            <a href="https://scholar.google.com/citations?user=8-HD_IEAAAAJ&hl=en" target="_blank" rel="noopener noreferrer" class="group p-3 rounded-xl bg-neutral-800 hover:bg-[#4285f4] transition-all" aria-label="Google Scholar">
              <i data-lucide="graduation-cap" class="w-5 h-5"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="pt-7 border-t border-neutral-800 flex flex-col sm:flex-row justify-between items-center gap-4">
        <p class="text-neutral-400 text-sm">Â© <span id="year"></span> Chijun Sima. All rights reserved.</p>
        <a href="#top" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-neutral-800 hover:bg-neutral-700 text-sm transition-all">
          <i data-lucide="arrow-up" class="w-4 h-4"></i>
          Back to top
        </a>
      </div>
    </div>
  </footer>

  <div id="pwa-toast" class="pwa-toast" role="status" aria-live="polite" hidden>
    <div class="pwa-toast__content">
      <p id="pwa-toast-title" class="pwa-toast__title">Update available</p>
      <p id="pwa-toast-desc" class="pwa-toast__desc">Refresh to load the latest version.</p>
    </div>
    <div class="pwa-toast__actions">
      <button id="pwa-toast-action" class="pwa-toast__btn pwa-toast__btn--primary" type="button">Update</button>
      <button id="pwa-toast-dismiss" class="pwa-toast__btn" type="button">Not now</button>
    </div>
  </div>
</BaseLayout>
